{
  "version": 3,
  "sources": ["src/app/service/cart-service.ts"],
  "sourcesContent": ["// import { Injectable } from '@angular/core';\r\n\r\n// @Injectable({\r\n//   providedIn: 'root'\r\n// })\r\n// export class CartService {\r\n//   constructor() {\r\n//     let cart: string = localStorage.getItem('cart_item') ?? '[]';\r\n//     this.card_item = JSON.parse(cart);\r\n//   }\r\n\r\n//   private card_item :any[] = [];\r\n\r\n//   addToCard(product:any){\r\n//     product.qty = 1\r\n//    this.card_item.push(product);\r\n//    console.log(this.card_item);\r\n//    localStorage.setItem('cart_item',JSON.stringify(this.card_item));\r\n//   }\r\n\r\n//   getCartItem():any[]{\r\n//     return this.card_item;\r\n//   }\r\n\r\n// }\r\n\r\n\r\n\r\nimport { Injectable } from '@angular/core';\r\n\r\ndeclare const Swal:any;\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class CartService {\r\n  private cart_item: any[] = [];\r\n\r\n  constructor() {\r\n    let cart: string = localStorage.getItem('cart_item') ?? '[]';\r\n    this.cart_item = JSON.parse(cart);\r\n\r\n    \r\n    this.cart_item = this.cart_item.map(item => {\r\n      if (!item.qty) {\r\n        item.qty = 1;\r\n      }\r\n      return item;\r\n    });\r\n  }\r\n\r\n  addToCard(product: any): void {\r\n    let dpl_index: number = this.cart_item.findIndex(x => x.id == product.id);\r\n    if(dpl_index > -1){\r\n      this.cart_item[dpl_index].qty++;\r\n      return;\r\n    }else{\r\n      product.qty = 1\r\n      product.is_select = true\r\n      this.cart_item.push(product);\r\n    }\r\n    \r\n\r\n    console.log(this.cart_item);\r\n    localStorage.setItem('cart_item', JSON.stringify(this.cart_item));\r\n  }\r\n\r\n  getCartItem(): any[] {\r\n    return this.cart_item;\r\n  }\r\n\r\n  incrementQty(item: any){\r\n  let index: number = this.cart_item.findIndex(x => x.id === item.id);\r\n   this.cart_item[index].qty++;\r\n   localStorage.setItem('cart_item', JSON.stringify(this.cart_item));\r\n  }\r\n\r\n  \r\n\r\n  decrementQty(item: any){\r\n    if(item.qty > 1){\r\n      let index: number = this.cart_item.findIndex(x => x.id === item.id);\r\n   this.cart_item[index].qty--; \r\n   localStorage.setItem('cart_item', JSON.stringify(this.cart_item));\r\n    }\r\n    \r\n  }\r\n\r\n  removeCartItem(item: any){\r\n   \r\n    Swal.fire({\r\n  title: \"Are you sure?\",\r\n  text: \"You won't be able to revert this!\",\r\n  icon: \"warning\",\r\n  showCancelButton: true,\r\n  confirmButtonColor: \"#3085d6\",\r\n  cancelButtonColor: \"#d33\",\r\n  confirmButtonText: \"Yes, remove it!\"\r\n}).then((result:any  ) => {\r\n  if (result.isConfirmed) {\r\n    let index: number = this.cart_item.findIndex(x => x.id === item.id);\r\n    this.cart_item.splice(index,  1);\r\n    localStorage.setItem('cart_item', JSON.stringify(this.cart_item));\r\n  }\r\n});\r\n    \r\n  }\r\n\r\n\r\n  getCartTotal(){\r\n    let total = 0;\r\n    this.cart_item.forEach(x => {\r\n      if(x.is_select){\r\n        total += x.price * x.qty;\r\n      }\r\n      \r\n    })\r\n    return total;\r\n  }\r\n\r\n\r\n  selectCartItem(item: any){\r\n  let index: number = this.cart_item.findIndex(x => x.id === item.id);\r\n  console.log(this.cart_item[index]);\r\n   this.cart_item[index].is_select = !this.cart_item[index].is_select;\r\n   localStorage.setItem('cart_item', JSON.stringify(this.cart_item));\r\n  }\r\n\r\n}"],
  "mappings": ";;;;;;;;;;;AAAA,IAkCa;AAlCb;;;;AA4BA;AAMO,IAAM,cAAN,MAAMA,aAAW;MACd,YAAmB,CAAA;MAE3B,cAAA;AACE,YAAI,OAAe,aAAa,QAAQ,WAAW,KAAK;AACxD,aAAK,YAAY,KAAK,MAAM,IAAI;AAGhC,aAAK,YAAY,KAAK,UAAU,IAAI,UAAO;AACzC,cAAI,CAAC,KAAK,KAAK;AACb,iBAAK,MAAM;UACb;AACA,iBAAO;QACT,CAAC;MACH;MAEA,UAAU,SAAY;AACpB,YAAI,YAAoB,KAAK,UAAU,UAAU,OAAK,EAAE,MAAM,QAAQ,EAAE;AACxE,YAAG,YAAY,IAAG;AAChB,eAAK,UAAU,SAAS,EAAE;AAC1B;QACF,OAAK;AACH,kBAAQ,MAAM;AACd,kBAAQ,YAAY;AACpB,eAAK,UAAU,KAAK,OAAO;QAC7B;AAGA,gBAAQ,IAAI,KAAK,SAAS;AAC1B,qBAAa,QAAQ,aAAa,KAAK,UAAU,KAAK,SAAS,CAAC;MAClE;MAEA,cAAW;AACT,eAAO,KAAK;MACd;MAEA,aAAa,MAAS;AACtB,YAAI,QAAgB,KAAK,UAAU,UAAU,OAAK,EAAE,OAAO,KAAK,EAAE;AACjE,aAAK,UAAU,KAAK,EAAE;AACtB,qBAAa,QAAQ,aAAa,KAAK,UAAU,KAAK,SAAS,CAAC;MACjE;MAIA,aAAa,MAAS;AACpB,YAAG,KAAK,MAAM,GAAE;AACd,cAAI,QAAgB,KAAK,UAAU,UAAU,OAAK,EAAE,OAAO,KAAK,EAAE;AACrE,eAAK,UAAU,KAAK,EAAE;AACtB,uBAAa,QAAQ,aAAa,KAAK,UAAU,KAAK,SAAS,CAAC;QAC/D;MAEF;MAEA,eAAe,MAAS;AAEtB,aAAK,KAAK;UACZ,OAAO;UACP,MAAM;UACN,MAAM;UACN,kBAAkB;UAClB,oBAAoB;UACpB,mBAAmB;UACnB,mBAAmB;SACpB,EAAE,KAAK,CAAC,WAAgB;AACvB,cAAI,OAAO,aAAa;AACtB,gBAAI,QAAgB,KAAK,UAAU,UAAU,OAAK,EAAE,OAAO,KAAK,EAAE;AAClE,iBAAK,UAAU,OAAO,OAAQ,CAAC;AAC/B,yBAAa,QAAQ,aAAa,KAAK,UAAU,KAAK,SAAS,CAAC;UAClE;QACF,CAAC;MAEC;MAGA,eAAY;AACV,YAAI,QAAQ;AACZ,aAAK,UAAU,QAAQ,OAAI;AACzB,cAAG,EAAE,WAAU;AACb,qBAAS,EAAE,QAAQ,EAAE;UACvB;QAEF,CAAC;AACD,eAAO;MACT;MAGA,eAAe,MAAS;AACxB,YAAI,QAAgB,KAAK,UAAU,UAAU,OAAK,EAAE,OAAO,KAAK,EAAE;AAClE,gBAAQ,IAAI,KAAK,UAAU,KAAK,CAAC;AAChC,aAAK,UAAU,KAAK,EAAE,YAAY,CAAC,KAAK,UAAU,KAAK,EAAE;AACzD,qBAAa,QAAQ,aAAa,KAAK,UAAU,KAAK,SAAS,CAAC;MACjE;;;AA3FW,kBAAW,WAAA;MAHvB,WAAW;QACV,YAAY;OACb;OACY,WAAW;;;",
  "names": ["CartService"]
}
